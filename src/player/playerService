var playerModel = require('./playerModel');
var key = '123456789trytryrtyr';
var encryptor = require ('simple-encryptor') (key);

module.exports.createPlayerDBService = (playerDetails) => {

    return new Promise(function myFn(resolve, reject) {

        var playerModelData = new playerModel();

        playerModelData.username = playerDetails.username;
        playerModelData.email = playerDetails.email;

        playerModelData.password = playerDetails.password;
        var encrypted = encryptor.encrypt(playerDetails.password);
        playerModelData.password = encrypted;

        playerModelData.save(function resultHandle(error, result) {

            if (error) {
                reject(false);
            }
            else {
                resolve(true);
            }
        });

    });



}
